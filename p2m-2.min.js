document.addEventListener('DOMContentLoaded',function(){const videos=document.querySelectorAll('.lazy-video');const videoObserver=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){const video=entry.target;const source=video.querySelector('source');video.src=source.getAttribute('data-src');video.load();videoObserver.unobserve(video)}})});videos.forEach(video=>{videoObserver.observe(video)})});if('loading' in HTMLIFrameElement.prototype){const iframes=document.querySelectorAll('iframe[loading="lazy"]');iframes.forEach(iframe=>{iframe.src=iframe.dataset.src})}else{const script=document.createElement('script');script.src='https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.2.2/lazysizes.min.js';document.body.appendChild(script)}
document.querySelectorAll('.videos-lista').forEach(videoContainer=>{videoContainer.addEventListener('mouseover',()=>{var iframe=videoContainer.querySelector('iframe');if(iframe&&!iframe.src){iframe.src=iframe.getAttribute('data-src')}})});$(window).on('scroll',()=>{function isScrollIntoView(elem){var docViewTop=$(window).scrollTop();var docViewBottom=docViewTop+$(window).height();var elemTop=$(elem).offset().top;var elemBottom=elemTop+$(window).height()*.5;if(elemBottom<=docViewBottom&&elemTop>=docViewTop){$(elem).addClass('active')}
if(!(elemBottom<=docViewBottom)){$(elem).removeClass('active')}
var MainTimelineContainer=$('#vertical-scrollable-timeline')[0];var MainTimelineContainerBottom=MainTimelineContainer.getBoundingClientRect().bottom-$(window).height()*.5;$(MainTimelineContainer).find('.inner').css('height',MainTimelineContainerBottom+'px')}
var timeline=$('#vertical-scrollable-timeline li');Array.from(timeline).forEach(isScrollIntoView)});var didScroll,lastScrollTop=0,delta=5,navbarHeight=$('footer').outerHeight();$(window).scroll(()=>{didScroll=!0});setInterval(()=>{if(didScroll){hasScrolled();didScroll=!1}},50);function hasScrolled(){var st=$(this).scrollTop();if(Math.abs(lastScrollTop-st)<=delta)return;if(st>lastScrollTop&&st>navbarHeight){$('footer').removeClass('nav-down').addClass('nav-up')}else if(st+$(document).height()<150){$('footer').removeClass('nav-up').addClass('nav-down')}
lastScrollTop=st}
document.addEventListener('mousemove',e=>{const circles=document.querySelectorAll('.background-circles span');circles.forEach(circle=>{const speed=circle.getBoundingClientRect().width/100;const x=(window.innerWidth-e.clientX*speed)/100;const y=(window.innerHeight-e.clientY*speed)/100;circle.style.transform=`translate(${x}px, ${y}px)`})});document.addEventListener('DOMContentLoaded',()=>{var scrollToTopButton=document.querySelector('.scroll-to-top');window.addEventListener('scroll',()=>{scrollToTopButton.style.display=window.scrollY>200?'block':'none'});scrollToTopButton.addEventListener('click',e=>{e.preventDefault();window.scrollTo({top:0,behavior:'smooth'})})})